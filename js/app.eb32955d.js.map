{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/App.vue?eabf","webpack:///./src/views/Home.vue","webpack:///./src/services/get.js","webpack:///./src/services/patch.js","webpack:///./src/components/Annotation.vue","webpack:///./src/components/Annotation.vue?1754","webpack:///./src/components/Info.vue","webpack:///./src/components/Info.vue?ba0a","webpack:///./src/views/Home.vue?a655","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","class","id","to","render","for","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","apiInfo","saved","saveToken","token","placeholder","wantToSave","getAnnotations","searchTags","searchUrl","selectedAnnotations","newTags","addTags","edit","annotations","annotation","annotationSelected","tagsUpdated","pagination","loading","loadMoreAnnotations","apiGetAnnotations","endPoint","getParams","axios","defaults","baseURL","headers","params","apiPatchAnnotation","patch","mlns","an","selected","dateUpdated","dateCreated","updateAnnotation","highlightedText","checkCommentModification","text","tagsConcatenated","href","uri","rel","articleTitle","links","incontext","saveButtonStyles","disabled","changed","props","setup","context","comment","tags","join","title","log","highlightedTextIndex","selector","exact","split","map","item","trim","filter","results","formatDate","Date","created","updated","set","newValue","emit","date","month","getMonth","day","getDate","year","getFullYear","state","open","components","Annotation","Info","page","itemsPerPage","user","cleanObj","url","limit","removeFalsy","rows","totalItems","total","offset","annotationToUpdate","find","includes","removeValueFromArray","newTagsArray","currentAnnotation","tagsToAdd","concat","Set","assign","alert","userid","localStorage","setItem","JSON","stringify","removeItem","arr","el","obj","newObj","keys","forEach","prop","getItem","parse","routes","path","component","Home","router","createRouter","history","createWebHistory","process","createApp","App","use","mount"],"mappings":"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","file":"js/app.eb32955d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"e23c7ae6\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vuepothesis/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n\n    <div class=\"mx-auto flex mx-auto px-4\">\n\n        <div class=\"flex justify-between w-full mb-4 p-8 bg-white shadow rounded-lg\">\n            \n            <p class=\"font-extrabold text-gray-900\"><router-link to=\"/\">Vuepothesis</router-link></p>        \n\n            <div id=\"nav\">\n                <router-link to=\"/about\">About</router-link>\n            </div>\n            \n        </div>\n\n    </div>\n        \n    <div class=\"flex flex-col md:flex-row items-start mx-auto px-4\">\n        <router-view/>\n    </div>\n\n</template>\n\n","import { render } from \"./App.vue?vue&type=template&id=5ffb048b\"\nconst script = {}\nscript.render = render\n\nexport default script","<template>\n\n    <div v-if=\"!apiInfo.saved\" class=\"w-full mb-4 p-8 bg-white shadow rounded-lg\">\n\n        <h1 class=\"mb-2 inline-block text-3xl font-extrabold text-gray-900 tracking-tight\">\n            Welcome to Vuepothesis!\n        </h1>\n\n        <h2 class=\"mb-4 text-lg text-gray-500\">\n            Use this tool to see, edit and export (soon) your annotations with ease.\n        </h2>\n\n        <p class=\"mb-2\">\n            To use this interface you need to\n            <a\n                class=\"underline hover:textDecoration\"\n                href=\"https://hypothes.is/account/developer\"\n                target=\"_blank\" rel=\"noopener noreferrer\">\n                generate and get</a> your API Token on your\n\n            <a\n                class=\"underline hover:textDecoration\"\n                href=\"http://hypothes.is/\" target=\"_blank\"\n                rel=\"noopener noreferrer\">\n                hypotes.is</a> account. \n            \n        </p>\n\n        <p class=\"mb-2\">Please do make a <a class=\"underline hover:textDecoration\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jonudell.info/h/facet\">safe copy</a> your annotations first, and proceed with care.</p>\n        \n        <form @submit.prevent=\"saveToken\" class=\"d-md-flex\">\n\n            <input\n                name=\"apiKey\"\n                v-model=\"apiInfo.token\"\n                placeholder=\"Put your API Token\"\n                class=\"w-full mb-5 border rounded-lg border-2 p-4 py-2\"\n                type=\"password\">\n                \n            <input\n                class=\"mr-2 \"\n                type=\"checkbox\"\n                id=\"saveKey\"\n                v-model=\"apiInfo.wantToSave\">\n\n            <label for=\"saveKey\" class=\"text-gray-500 \">I want to save the token on this device?</label>\n\n            <button\n                type=\"submit\"\n                class=\"block mt-4 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                Save\n            </button>\n        \n        </form>\n\n    </div>\n\n    <aside class=\"w-full md:w-1/4 md:sticky inset-x-0 top-0 left-0\">\n    \n        <div>\n\n            <div v-if=\"apiInfo.saved\" class=\"p-8 mb-4 bg-white shadow rounded-lg\">\n\n                <p class=\"mb-2 uppercase font-bold text-xs text-gray-500\">Search</p>\n                \n                <form @submit.prevent=getAnnotations>\n\n                    <input\n                        name=\"searchTags\"\n                        class=\"w-full mb-2 border rounded-lg border-2 p-4 py-2\"\n                        placeholder=\"Tags\"\n                        type=\"text\"\n                        v-model=searchTags\n                    />\n\n                    <input\n                        name=\"searchUrl\"\n                        class=\"w-full mb-2 border rounded-lg border-2 p-4 py-2\"\n                        placeholder=\"URL\"\n                        type=\"text\"\n                        v-model=searchUrl\n                    />\n\n                    <button\n                        type=\"submit\"\n                        class=\"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                        Search\n                    </button>\n\n                </form>\n\n            </div>\n\n            <template v-if=\"selectedAnnotations.length > 0\">\n\n                <div class=\"p-8 mb-4 bg-white shadow rounded-lg\">\n\n                    <div class=\"\">\n\n                        <p class=\"mb-2 uppercase font-bold text-xs text-gray-500\">Edit tags</p>\n\n                        <p class=\"mb-4 text-sm\">Add or overwrite the tags bellow to the selected annotations.</p>\n\n                        <input v-model=newTags\n                            name=\"newTags\"\n                            class=\"w-full mb-2 border rounded-lg border-2 p-4 py-2\"\n                            placeholder=\"Commma separeted tags\" type=\"text\"\n                        />\n\n                        <button\n                            @click=\"addTags('add')\"\n                            type=\"submit\"\n                            class=\"mr-2 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                            Add\n                        </button>\n\n                        <button\n                            @click=\"addTags('overwrite')\"\n                            type=\"submit\"\n                            class=\"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                            Overwrite\n                        </button>\n\n                        <!-- <Info>\n\n                            <template v-slot:short>Add or overwrite?</template>\n\n                            <template v-slot:full>\n                                If you use the ADD, the tags that you listed on\n                                the on the field will be added to the existing\n                                tags of each selected note. If you choose to overwrite,\n                                the tags that you insert on the field will replace\n                                the existing tags of the selected tags.\n                            </template> \n\n                        </Info> -->\n\n                    </div>\n\n                </div> \n\n            </template>\n\n            <div v-if=\"apiInfo.edit\" class=\"p-8 mb-4 bg-white rounded-lg\">\n\n                <p class=\"mb-2 uppercase font-bold text-xs text-gray-500\">Api Key</p>\n\n                <form @submit.prevent=\"saveToken\" class=\"d-md-flex\">\n\n                    <input\n                        name=\"apiKey\"\n                        v-model=\"apiInfo.token\"\n                        placeholder=\"Put your API Token\"\n                        class=\"w-full mb-5 border rounded-lg border-2 p-4 py-2\"\n                        type=\"password\">\n                        \n                    <input\n                        class=\"mr-2 \"\n                        type=\"checkbox\"\n                        id=\"saveKey\"\n                        v-model=\"apiInfo.wantToSave\">\n\n                    <label for=\"saveKey\" class=\"text-gray-500 \">Trust this device?</label>\n\n                    <button type=\"submit\" class=\"block mt-4 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                        Save\n                    </button>\n                \n                </form>\n\n            </div> \n\n\n            <template v-if=\"annotations.length > 0\">\n\n                <p\n                    v-if=\"!apiInfo.edit\"\n                    @click=\"apiInfo.edit = !apiInfo.edit\"\n                    class=\"mb-8 text-gray-500 text-sm cursor-pointer\">\n\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"inline h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    </svg>\n                    Change the token info.\n                </p>\n            \n            </template>\n\n        </div>\n\n    </aside>\n    \n    <div class=\"flex flex-wrap w-full md:w-3/4 md:pl-4 pb-8 mb-8\">\n\n        <div\n            v-if=\"false\"\n            class=\"w-full flex sticky inset-x-0 top-0 left-0 justify-between mb-4 p-8 bg-white shadow rounded-lg\">\n            \n            <div class=\"hidden md:block\">\n                <p><span class=\"font-extrabold text-gray-900\">{{annotations.length}}</span> notes loaded</p>\n            </div>\n\n            <div class=\"hidden md:block\">\n                <p><span class=\"font-extrabold text-gray-900\">{{selectedAnnotations.length}}</span> notes selected </p>\n            </div>\n            \n            <div>\n\n                <input\n                    type=\"checkbox\"\n                    name=\"selected\"\n                    id=\"selectAll\"\n                    class=\"mr-1\"\n                >\n\n                <label for=\"selectAll\">Select all</label>\n\n            </div>\n\n            <div>\n\n                <input\n                    type=\"checkbox\"\n                    name=\"selected\"\n                    id=\"deselectAll\"\n                    class=\"mr-1\"\n                >\n\n                <label for=\"deselectAll\">Deselect all</label>\n\n            </div>\n\n        </div>\n\n        <div class=\"w-full\" v-if=\"annotations\">\n\n\t        <Annotation v-for=\"annotation in annotations\"\n                :key=\"annotation.id\"\n                :apiInfo=apiInfo\n                :annotation=annotation\n                @annotation-selected=\"annotationSelected\"\n                @tags-updated=\"tagsUpdated\"\n            />\n            \n            <div v-if=\"pagination.loading\" class=\"w-full mb-4 p-8 shadow bg-white rounded-lg transition\">\n                <p>Loading more annotations...</p>\n            </div>\n\n            <button\n                v-if=\"annotations.length > 0\"\n                @click=\"loadMoreAnnotations\"\n                class=\"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all\">\n                Load More\n            </button>\n\n        </div>\n\n        <!-- <div v-else class=\"w-full mb-4 p-8 bg-white rounded-lg transition\">\n            <p>No annotations found</p>\n        </div> -->\n\n    </div>\n\n</template>\n\n<script>\n\n\timport { ref, reactive, onMounted } from 'vue'\n\timport apiGetAnnotations from '@/services/get'\n    import apiPatchAnnotation from '@/services/patch'\n\n\timport Annotation from '@/components/Annotation'\n\timport Info from '@/components/Info'\n\n\texport default {\n\n\t\tcomponents:{\n\t\t\tAnnotation,\n            Info\n\t\t},\n\n\t\tsetup() {\n\n\t\t\tconst annotations = ref({})\n            const searchTags = ref('')\n            const searchUrl = ref('')\n\n            const selectedAnnotations = ref([])\n            const newTags = ref('')\n\n            const pagination = reactive({\n                page: 0 ,\n                itemsPerPage: 10,\n                loading: false,\n            })\n            \n            const apiInfo = reactive({\n                token: '',\n                user: '',\n                wantToSave: false,\n                saved: false,\n                edit: false\n            })\n\n\t\t\tonMounted(() => {\n        \n                if (localStorage.getItem('apiInfo')) {\n                    const data = JSON.parse(localStorage.getItem('apiInfo'));\n                    Object.assign(apiInfo, data) // https://stackoverflow.com/a/65733741/2222978\n                }\n\n                if(apiInfo.token && apiInfo.user){\n                    getAnnotations()\n                }\n\n\t\t\t})\n\n\t\t\tasync function getAnnotations(){\n\n                selectedAnnotations.value = []\n                pagination.loading = true\n\n                let cleanObj = {\n                    url: searchUrl.value,\n                    tags: searchTags.value,\n                    user: apiInfo.user,\n                    limit: pagination.itemsPerPage\n                }  \n\n                cleanObj = removeFalsy(cleanObj)\n\n                try {\n                    \n                    const results = await apiGetAnnotations('/search', cleanObj, apiInfo.token)\n                    \n                    annotations.value = results.data.rows\n                    pagination.totalItems = results.data.total\n\n                    \n                } catch (error) {\n                    console.log(error)\n                }\n\n                pagination.loading = false\n\n\t\t\t}\n\n            async function loadMoreAnnotations(){\n\n                pagination.loading = true\n\n                pagination.page++\n\n                let cleanObj = {\n                    offset: pagination.page * pagination.itemsPerPage,\n                    url: searchUrl.value,\n                    tags: searchTags.value,\n                    user: apiInfo.user,\n                    limit: pagination.itemsPerPage\n                }  \n\n                cleanObj = removeFalsy(cleanObj)\n                console.log(cleanObj)\n\n                try {\n\n                    const results = await apiGetAnnotations('/search', cleanObj, apiInfo.token)\n                    \n                    // more elegant way to update the array?\n                    results.data.rows.map(item => {annotations.value.push(item)})\n\n                    // console.log(annotations.value)\n                \n                    pagination.loading = false\n                    \n                } catch (error) {\n                    console.log(error)\n                }\n            }\n\n            function tagsUpdated(data){\n                console.log(data.tags)\n\n                const annotationToUpdate = annotations.value.find( item => item.id === data.id )\n                annotationToUpdate.tags = data.tags.split(', ')\n            }\n\n            function annotationSelected(data){\n                // find value inside array\n                // ref: https://attacomsian.com/blog/javascript-array-search\n                if(data.selected && !selectedAnnotations.value.includes(data.id) ){\n                    selectedAnnotations.value.push(data.id)\n                }\n                else{\n                    selectedAnnotations.value = removeValueFromArray(selectedAnnotations.value, data.id)\n                }\n                console.log(selectedAnnotations.value)\n            }\n\n            // https://dev.to/askrishnapravin/for-loop-vs-map-for-making-multiple-api-calls-3lhd\n            async function addTags(mode){\n\n                // checks if some annotation is selected\n                if(selectedAnnotations.value.length){\n\n                    // checks if the user inserted some tag\n                    if(newTags.value){\n\n                        // create a clean array with the tags inserted by the user\n                        const newTagsArray = newTags.value.split(',').map(item => item.trim()).filter( item => item != '')\n\n                        // if there's tags to add...\n                        if(newTagsArray.length > 0){\n                            \n                            // ref: https://dev.to/askrishnapravin/for-loop-vs-map-for-making-multiple-api-calls-3lhd\n                            Promise.all(\n\n                                selectedAnnotations.value.map(async (id) => {\n\n                                    let tagsToAdd\n                                    \n                                    // find the selected annotation in the array\n                                    const currentAnnotation = annotations.value.find( item => item.id === id )\n\n                                    if(mode == 'add'){\n\n                                        // existent tags for this annotation\n                                        tagsToAdd = currentAnnotation.tags\n                                        \n                                        // merging the existing tags with the new tags to update the annotation via the API\n                                        tagsToAdd = tagsToAdd.concat(newTagsArray)\n                                        \n                                        // only unique values\n                                        // ref: https://stackoverflow.com/a/14438954/2222978\n                                        tagsToAdd = [... new Set(tagsToAdd)]\n\n                                    }\n\n                                    else if( mode == 'overwrite')\n                                    {\n                                        tagsToAdd = newTagsArray\n                                    }\n\n                                    try {\n                                        const results = await apiPatchAnnotation('/annotations/' + id, { tags: tagsToAdd }, apiInfo.token)\n                                        Object.assign(currentAnnotation, results.data)\n                                    }\n                                    catch (error) {\n                                        console.log(error)\n                                    }   \n                                })\n                            )\n                        }\n                    }\n                    else{\n                        alert(`Insert at least one tag`)\n                    }\n                }\n                else{\n                    alert(`Select at least one annotation`)\n\n                }\n            }\n         \n            async function saveToken(){\n\n                // TODO: do a better validation of the token\n                if(apiInfo.token){\n\n                    try {\n                        const results = await apiGetAnnotations('/profile', null, apiInfo.token)\n                        apiInfo.user = results.data.userid\n                        console.log(apiInfo.user)\n                        \n                    } catch (error) {\n                        console.log(error)\n                    }\n\n                    apiInfo.saved = true\n                    apiInfo.edit = false\n\n                    getAnnotations()\n\n                    if( apiInfo.wantToSave ){\n\n                        localStorage.setItem('apiInfo', JSON.stringify(apiInfo));\n                        console.log('salvou token no localStorage: ' + apiInfo)\n                    }\n                    else{\n                        localStorage.removeItem('apiInfo');\n                        console.log('token disponível para uso mas não foi salvo')\n                    }\n                }\n              \n                else{\n                    alert('Insert a valid token to proceed.')\n                }\n            }\n\n            // TODO: put in a file with fuctions\n            function removeValueFromArray(arr, value) { \n                return arr.filter(function(el){ \n                    return el != value; \n                });\n            }\n\n            // TODO: put in a file with fuctions\n            //https://coderwall.com/p/urxpsa/remove-falsy-values-or-empty-strings-from-javascript-objects\n            function removeFalsy (obj) {\n                let newObj = {};\n\n                Object.keys(obj).forEach((prop) => {\n                    if (obj[prop]) { newObj[prop] = obj[prop]; }\n                });\n\n                return newObj;\n            };\n\n\t\t\treturn{\n\t\t\t\tannotations,\n                getAnnotations,\n                pagination,\n                loadMoreAnnotations,\n                annotationSelected,\n                selectedAnnotations,\n                searchTags,\n                searchUrl,\n                apiInfo,\n                saveToken,\n                newTags,\n                addTags,\n                tagsUpdated,\n\t\t\t}\n\t\t},\n\t}\n</script>   ","import axios from \"axios\";\n\nexport default function apiGetAnnotations(endPoint, getParams, token){\n\n    axios.defaults.baseURL = 'https://hypothes.is/api'\n    axios.defaults.headers = {\n        'Content-Type':'application/json',\n        'Accept': 'application/json',\n        'Authorization': `Bearer ${token}`,\n    }\n\n    return axios.get(endPoint, {    \n        params: getParams,\n    })\n}\n","import axios from \"axios\";\n\nexport default function apiPatchAnnotation(endPoint, params, token){\n\n    axios.defaults.baseURL = 'https://hypothes.is/api'\n    axios.defaults.headers = {\n        'Content-Type':'application/json',\n        'Accept': 'application/json',\n        'Authorization': `Bearer ${token}`,\n    }\n\n    return axios.patch(endPoint, params)\n}\n","<template>\n    <article\n        class=\"w-full mb-4 p-8 bg-white shadow hover:shadow-xl rounded-lg transition\"\n        :class=\"an.selected ? 'bg-green-50' : ''\">\n\n        <div class=\"flex justify-between content-center items-stretch\">\n\n            <div>\n\n                <input\n                    type=\"checkbox\"\n                    name=\"selected\"\n                    :id=\"`selected-${annotation.id}`\"\n                    @click=\"an.selected = !an.selected\"\n                    @change='annotationSelected'\n                    class=\"mr-1\"\n                >\n\n                <label\n                    :for=\"`selected-${annotation.id}`\"\n                    class=\"text-gray-500\">\n                    select\n                </label>\n\n            </div>\n\n            <div class=\"flex justify-between content-center\">\n                \n                <p class=\"text-xs text-gray-500 uppercase mr-2\">\n                    <span class=\"font-bold\">Updated: </span>{{an.dateUpdated}}\n                </p>\n                \n                <p class=\"hidden md:block text-xs text-gray-500 uppercase\">\n                    <span class=\"font-bold\">Created: </span>{{an.dateCreated}}\n                </p>\n            </div>\n\n        </div>\n\n        <hr class=\"my-4\">\n\n        <form @submit.prevent=\"updateAnnotation\" class=\"d-md-flex\">\n\n            <p class=\"mb-2 uppercase font-bold text-xs text-gray-500\">Highlight</p>\n            <blockquote v-if=an.highlightedText class=\"mb-4\">\"{{an.highlightedText}}\"</blockquote>\n            \n            <label for=\"comment\" class=\"uppercase font-bold text-xs text-gray-500\">Comment</label>\n            <textarea name=\"comment\" class=\"block w-full mb-4 px-4 py-2 border-gray-300 border rounded-lg\" @input=\"checkCommentModification()\" v-model=annotation.text></textarea>\n            \n            <label for=\"tags\" class=\"uppercase font-bold text-xs text-gray-500\">Tags</label>\n            <input name=\"tags\" class=\"w-full mb-5 border rounded-lg border-2 p-4 py-2\" type=\"text\" v-model=an.tagsConcatenated >\n            \n            <div>\n\n                <p class=\"mb-3 uppercase font-bold text-xs text-gray-500\">Sources</p>\n\n                <p class=\"inline-flex items-stretch text-gray-500\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n                    </svg>\n                    <a class=\"ml-2\" :href=annotation.uri target=\"_blank\" rel=\"noopener noreferrer\">{{an.articleTitle}}</a>\n                </p>\n\n                <hr class=\"my-2\">\n\n                <p class=\"inline-flex items-stretch text-gray-500\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                    </svg>\n                    <a class=\"ml-2\" :href=annotation.links.incontext target=\"_blank\" rel=\"noopener noreferrer\">See in context</a>\n                </p>\n\n            </div>\n\n            <div class=\"flex justify-between items-stretch content-center mt-4\">\n\n                <button\n                    type=\"submit\"\n                    class=\"flex align-items py-2 pl-3 pr-4 rounded-lg text-sm font-medium text-white focus:outline-none transition-all\"\n                    :class=saveButtonStyles()\n                    :disabled='!changed'>    \n\n                    <template v-if=\"!changed\">\n\n                        <svg  xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n                        </svg>\n\n                    </template>\n\n                    <template v-else>\n\n                        <svg v-if=\"loading && changed\" mlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z\" />\n                        </svg>\n\n                        <svg v-else xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n\n                    </template>\n\n                   <span class=\"ml-2\">Save</span>\n\n                </button>\n                \n\n                <!-- <button\n                    class=\"flex align-items py-2 pl-3 pr-4 rounded-lg text-sm font-medium text-white bg-gray-400 hover:bg-red-800 active:bg-red-700 focus:outline-none transition-all\"\n                    disabled>\n                 \n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n\n                    <span class=\"ml-2\">Delete</span>\n\n                </button> -->\n\n            </div>\n<!-- \n            <button class=\"p-4 rounded-full text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none border-4 border-white focus:border-green-200 transition-all\">\n\n                <svg v-if=\"loading\" mlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z\" />\n                </svg>\n\n                 <svg v-else xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n\n            </button> -->\n            \n        </form>\n\n    </article>\n\n</template>\n\n<script>\n\n//TODO: função para deletar essa anotação\n\n\nimport { ref, computed, onBeforeUpdate, watch\n  } from 'vue'\nimport apiPatchAnnotation from '@/services/patch'\n\n// TODO: feedback when the update went ok\n\nexport default {\n\n    props: {\n        annotation: Object,\n        apiInfo: Object\n    },\n\n    setup(props, context){\n\n        // FIXME preciso atualizar esses dois valores apenas quando o componente\n        // recebe novos propos do parent, tem como fazer isso?\n        let comment = props.annotation.text\n        let tags = props.annotation.tags.join(', ')\n\n        const an = ref({})\n        const loading = ref(false)\n        const changed = ref(false)\n\n        try {\n            an.value.articleTitle = computed(() => { return props.annotation.document.title[0] })\n        } catch (error) {\n            console.log(`no title set for annotation: ${props.annotation.id}`)\n        }\n\n        try {\n            const highlightedTextIndex = props.annotation.target[0].selector.length - 1\n            an.value.highlightedText = computed(() => { return props.annotation.target[0].selector[highlightedTextIndex].exact })\n            \n        } catch (error) {\n            console.log(`no array found ${props.annotation.id}`)\n        }\n        \n        an.value.dateCreated = computed(() => { return formatDate (new Date( props.annotation.created )) })\n        an.value.dateUpdated = computed(() => { return formatDate (new Date( props.annotation.updated )) })\n        an.value.comment = props.annotation.text\n\n        // TODO: eu acho que fazer essa atualização dessa forma até que faz sentido,\n        // prefiro achar que tem uma forma melhor de resolver esse problema. \n        // em resumo o que estou fazendo agora é ao invés de atualizar a variável\n        // utilizada no v-model com o set (porque ele entra em um loop infinito),\n        // eu estou enviando o novo valor detectado para o parent com um emit\n        // e estou atualizando o array do parent para que esse child recebe uma\n        // prop atualizada que vai popular corretamente o v-model para eu poder\n        // fazer atualização corretamente na API\n        // talvez ajude: https://stackoverflow.com/a/50108054/2222978\n        an.value.tagsConcatenated = computed({ \n            get() { return props.annotation.tags.join(', ') },\n            set(newValue) {\n\n                if( tags !== newValue){\n                    console.log('changed')\n                    changed.value = true\n                }\n                else{\n                    console.log('no change detected')\n                    changed.value = false\n                }\n                \n                saveButtonStyles()\n\n                context.emit('tagsUpdated', {tags:newValue, id: props.annotation.id})\n            } // TODO: onde salvar esse new value?\n        })\n\n\n        // tentativa de atualizar o valor do comment\n        // toda vez que receber um prop novo\n        // ainda tem que testar para ver se funciona \n        // não tenho certeza se esse é o melhor lifecycle para essa situação\n        // onBeforeUpdate(()=>{\n        //     comment = props.annotation.text\n        //     tags = props.annotation.tags.join(', ')\n        // })\n\n\n        // watch(an, (newValue, oldValue) => {\n        //     console.log(an.value.comment)\n        //     console.log(newValue.comment)\n        // },\n        // {deep: true}\n        // )\n\n\n        // watch(changed, () => {\n        //     console.log('changed: ' + changed.value)\n        // },\n       \n        // )\n        \n        // watch(\n        //     () => an,\n        //     (newValue, oldValue) =>{\n\n        //         console.log('asd')\n\n        //         if(comment !== newValue){\n        //             console.log(`changed`)\n        //         }\n        //         // console.log('The old value is')\n        //         // console.log(oldValue.value.comment)\n        //         // console.log('The new value is')\n        //         // console.log(newValue.value.comment)\n        //     },\n        //     { deep: true }\n\n        // )\n\n        function checkCommentModification(){\n\n            console.log(`checkCommentModification`)\n\n            if(comment !== props.annotation.text){\n                changed.value = true\n            }\n            else{\n                changed.value = false\n            }\n\n            saveButtonStyles()\n        }\n        \n        async function updateAnnotation(){\n\n            loading.value = true\n\n            const tags = an.value.tagsConcatenated.split(',').map(item => item.trim()).filter( item => item != '');\n\n            console.log(tags)\n\n            try {\n                const results = await apiPatchAnnotation('/annotations/' + props.annotation.id, { tags, text: props.annotation.text }, props.apiInfo.token)\n                console.log(results.data)\n                loading.value = false\n            }\n            catch (error) {\n                console.log(error)\n            }\n\n            changed.value = false\n        }\n\n        const annotationSelected = () => {\n            context.emit(\"annotationSelected\", { id:props.annotation.id, selected:an.value.selected } )\n        }\n\n        function saveButtonStyles(){\n            if(changed.value){\n                return [ 'bg-green-600', 'hover:bg-green-800']\n            }\n            else{\n                return ['bg-gray-400','hover:bg-gray-400']\n            }\n        }\n\n        function formatDate(date) {\n\n            let d = new Date(date),\n                month = '' + (d.getMonth() + 1),\n                day = '' + d.getDate(),\n                year = d.getFullYear();\n\n            if (month.length < 2) \n                month = '0' + month;\n\n            if (day.length < 2) \n                day = '0' + day;\n\n            return [month, day, year].join('/');\n        }\n\n        return{\n            an,\n            updateAnnotation,\n            annotationSelected,\n            loading,\n            checkCommentModification,\n            changed,\n            saveButtonStyles\n        }\n    }\n}\n</script>\n","import { render } from \"./Annotation.vue?vue&type=template&id=5542af96\"\nimport script from \"./Annotation.vue?vue&type=script&lang=js\"\nexport * from \"./Annotation.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n    <div class=\"mt-4\">\n\n        <p\n            class=\"inline-flex items-stretch text-gray-500 cursor-pointer\"\n            @mouseover=\"state.open = true\"\n            @mouseleave=\"state.open = false\">\n\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"mr-2 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <slot name=\"short\"></slot>\n        </p>\n\n    </div>\n\n    <div\n        v-if=\"state.open\"\n        class=\"absolute bottom-0 left-0\">\n\n        <div class=\"p-8 mb-4 bg-white rounded-lg\">\n\n            <p>\n                <slot name=\"full\"></slot>\n            </p>\n\n        </div>\n        \n    </div>\n\n</template>\n\n<script>\n\nimport {reactive} from 'vue'\n\nexport default {\n\n    setup() {\n        const state = reactive({\n            open: false,\n        })\n\n        return{\n            state\n        }\n    },\n}\n\n</script>","import { render } from \"./Info.vue?vue&type=template&id=5a6eb54f\"\nimport script from \"./Info.vue?vue&type=script&lang=js\"\nexport * from \"./Info.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Home.vue?vue&type=template&id=3cb02668\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport './assets/tailwind.css'\n\ncreateApp(App).use(router).mount('#app')\n"],"sourceRoot":""}