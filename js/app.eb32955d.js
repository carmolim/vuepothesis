(function(e){function t(t){for(var o,c,s=t[0],l=t[1],i=t[2],u=0,b=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e23c7ae6"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var i=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,n[1](i)}a[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vuepothesis/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={class:"mx-auto flex mx-auto px-4"},r={class:"flex justify-between w-full mb-4 p-8 bg-white shadow rounded-lg"},c={class:"font-extrabold text-gray-900"},s=Object(o["g"])("Vuepothesis"),l={id:"nav"},i=Object(o["g"])("About"),u={class:"flex flex-col md:flex-row items-start mx-auto px-4"};function d(e,t){var n=Object(o["x"])("router-link"),d=Object(o["x"])("router-view");return Object(o["r"])(),Object(o["d"])(o["a"],null,[Object(o["h"])("div",a,[Object(o["h"])("div",r,[Object(o["h"])("p",c,[Object(o["h"])(n,{to:"/"},{default:Object(o["E"])((function(){return[s]})),_:1})]),Object(o["h"])("div",l,[Object(o["h"])(n,{to:"/about"},{default:Object(o["E"])((function(){return[i]})),_:1})])])]),Object(o["h"])("div",u,[Object(o["h"])(d)])],64)}const b={};b.render=d;var p=b,h=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),f={key:0,class:"w-full mb-4 p-8 bg-white shadow rounded-lg"},g=Object(o["f"])('<h1 class="mb-2 inline-block text-3xl font-extrabold text-gray-900 tracking-tight"> Welcome to Vuepothesis! </h1><h2 class="mb-4 text-lg text-gray-500"> Use this tool to see, edit and export (soon) your annotations with ease. </h2><p class="mb-2"> To use this interface you need to <a class="underline hover:textDecoration" href="https://hypothes.is/account/developer" target="_blank" rel="noopener noreferrer"> generate and get</a> your API Token on your <a class="underline hover:textDecoration" href="http://hypothes.is/" target="_blank" rel="noopener noreferrer"> hypotes.is</a> account. </p><p class="mb-2">Please do make a <a class="underline hover:textDecoration" target="_blank" rel="noopener noreferrer" href="https://jonudell.info/h/facet">safe copy</a> your annotations first, and proceed with care.</p>',4),j=Object(o["h"])("label",{for:"saveKey",class:"text-gray-500 "},"I want to save the token on this device?",-1),m=Object(o["h"])("button",{type:"submit",class:"block mt-4 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Save ",-1),v={class:"w-full md:w-1/4 md:sticky inset-x-0 top-0 left-0"},O={key:0,class:"p-8 mb-4 bg-white shadow rounded-lg"},x=Object(o["h"])("p",{class:"mb-2 uppercase font-bold text-xs text-gray-500"},"Search",-1),w=Object(o["h"])("button",{type:"submit",class:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Search ",-1),y={key:1,class:"p-8 mb-4 bg-white shadow rounded-lg"},k={class:""},T=Object(o["h"])("p",{class:"mb-2 uppercase font-bold text-xs text-gray-500"},"Edit tags",-1),S=Object(o["h"])("p",{class:"mb-4 text-sm"},"Add or overwrite the tags bellow to the selected annotations.",-1),C={key:2,class:"p-8 mb-4 bg-white rounded-lg"},I=Object(o["h"])("p",{class:"mb-2 uppercase font-bold text-xs text-gray-500"},"Api Key",-1),A=Object(o["h"])("label",{for:"saveKey",class:"text-gray-500 "},"Trust this device?",-1),U=Object(o["h"])("button",{type:"submit",class:"block mt-4 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Save ",-1),M=Object(o["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),P=Object(o["g"])(" Change the token info. "),R={class:"flex flex-wrap w-full md:w-3/4 md:pl-4 pb-8 mb-8"},B={key:1,class:"w-full"},_={key:0,class:"w-full mb-4 p-8 shadow bg-white rounded-lg transition"},z=Object(o["h"])("p",null,"Loading more annotations...",-1);function V(e,t,n,a,r,c){var s=Object(o["x"])("Annotation");return Object(o["r"])(),Object(o["d"])(o["a"],null,[a.apiInfo.saved?Object(o["e"])("",!0):(Object(o["r"])(),Object(o["d"])("div",f,[g,Object(o["h"])("form",{onSubmit:t[3]||(t[3]=Object(o["G"])((function(){return a.saveToken&&a.saveToken.apply(a,arguments)}),["prevent"])),class:"d-md-flex"},[Object(o["F"])(Object(o["h"])("input",{name:"apiKey","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.apiInfo.token=e}),placeholder:"Put your API Token",class:"w-full mb-5 border rounded-lg border-2 p-4 py-2",type:"password"},null,512),[[o["C"],a.apiInfo.token]]),Object(o["F"])(Object(o["h"])("input",{class:"mr-2 ",type:"checkbox",id:"saveKey","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.apiInfo.wantToSave=e})},null,512),[[o["B"],a.apiInfo.wantToSave]]),j,m],32)])),Object(o["h"])("aside",v,[Object(o["h"])("div",null,[a.apiInfo.saved?(Object(o["r"])(),Object(o["d"])("div",O,[x,Object(o["h"])("form",{onSubmit:t[6]||(t[6]=Object(o["G"])((function(){return a.getAnnotations&&a.getAnnotations.apply(a,arguments)}),["prevent"]))},[Object(o["F"])(Object(o["h"])("input",{name:"searchTags",class:"w-full mb-2 border rounded-lg border-2 p-4 py-2",placeholder:"Tags",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.searchTags=e})},null,512),[[o["C"],a.searchTags]]),Object(o["F"])(Object(o["h"])("input",{name:"searchUrl",class:"w-full mb-2 border rounded-lg border-2 p-4 py-2",placeholder:"URL",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.searchUrl=e})},null,512),[[o["C"],a.searchUrl]]),w],32)])):Object(o["e"])("",!0),a.selectedAnnotations.length>0?(Object(o["r"])(),Object(o["d"])("div",y,[Object(o["h"])("div",k,[T,S,Object(o["F"])(Object(o["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.newTags=e}),name:"newTags",class:"w-full mb-2 border rounded-lg border-2 p-4 py-2",placeholder:"Commma separeted tags",type:"text"},null,512),[[o["C"],a.newTags]]),Object(o["h"])("button",{onClick:t[8]||(t[8]=function(e){return a.addTags("add")}),type:"submit",class:"mr-2 py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Add "),Object(o["h"])("button",{onClick:t[9]||(t[9]=function(e){return a.addTags("overwrite")}),type:"submit",class:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Overwrite ")])])):Object(o["e"])("",!0),a.apiInfo.edit?(Object(o["r"])(),Object(o["d"])("div",C,[I,Object(o["h"])("form",{onSubmit:t[12]||(t[12]=Object(o["G"])((function(){return a.saveToken&&a.saveToken.apply(a,arguments)}),["prevent"])),class:"d-md-flex"},[Object(o["F"])(Object(o["h"])("input",{name:"apiKey","onUpdate:modelValue":t[10]||(t[10]=function(e){return a.apiInfo.token=e}),placeholder:"Put your API Token",class:"w-full mb-5 border rounded-lg border-2 p-4 py-2",type:"password"},null,512),[[o["C"],a.apiInfo.token]]),Object(o["F"])(Object(o["h"])("input",{class:"mr-2 ",type:"checkbox",id:"saveKey","onUpdate:modelValue":t[11]||(t[11]=function(e){return a.apiInfo.wantToSave=e})},null,512),[[o["B"],a.apiInfo.wantToSave]]),A,U],32)])):Object(o["e"])("",!0),a.annotations.length>0?(Object(o["r"])(),Object(o["d"])(o["a"],{key:3},[a.apiInfo.edit?Object(o["e"])("",!0):(Object(o["r"])(),Object(o["d"])("p",{key:0,onClick:t[13]||(t[13]=function(e){return a.apiInfo.edit=!a.apiInfo.edit}),class:"mb-8 text-gray-500 text-sm cursor-pointer"},[M,P]))],64)):Object(o["e"])("",!0)])]),Object(o["h"])("div",R,[Object(o["e"])("",!0),a.annotations?(Object(o["r"])(),Object(o["d"])("div",B,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["v"])(a.annotations,(function(e){return Object(o["r"])(),Object(o["d"])(s,{key:e.id,apiInfo:a.apiInfo,annotation:e,onAnnotationSelected:a.annotationSelected,onTagsUpdated:a.tagsUpdated},null,8,["apiInfo","annotation","onAnnotationSelected","onTagsUpdated"])})),128)),a.pagination.loading?(Object(o["r"])(),Object(o["d"])("div",_,[z])):Object(o["e"])("",!0),a.annotations.length>0?(Object(o["r"])(),Object(o["d"])("button",{key:1,onClick:t[14]||(t[14]=function(){return a.loadMoreAnnotations&&a.loadMoreAnnotations.apply(a,arguments)}),class:"py-2 px-4 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-800 active:bg-green-900 focus:outline-none focus:border-green-200 transition-all"}," Load More ")):Object(o["e"])("",!0)])):Object(o["e"])("",!0)])],64)}var F=n("2909"),L=n("1da1"),D=(n("96cf"),n("7db0"),n("ac1f"),n("1276"),n("caad"),n("2532"),n("4de4"),n("159b"),n("b64b"),n("d81d"),n("498a"),n("99af"),n("6062"),n("bc3a")),E=n.n(D);function K(e,t,n){return E.a.defaults.baseURL="https://hypothes.is/api",E.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},E.a.get(e,{params:t})}function G(e,t,n){return E.a.defaults.baseURL="https://hypothes.is/api",E.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},E.a.patch(e,t)}var J={class:"flex justify-between content-center items-stretch"},H={class:"flex justify-between content-center"},q={class:"text-xs text-gray-500 uppercase mr-2"},N=Object(o["h"])("span",{class:"font-bold"},"Updated: ",-1),$={class:"hidden md:block text-xs text-gray-500 uppercase"},W=Object(o["h"])("span",{class:"font-bold"},"Created: ",-1),Y=Object(o["h"])("hr",{class:"my-4"},null,-1),Q=Object(o["h"])("p",{class:"mb-2 uppercase font-bold text-xs text-gray-500"},"Highlight",-1),X={key:0,class:"mb-4"},Z=Object(o["h"])("label",{for:"comment",class:"uppercase font-bold text-xs text-gray-500"},"Comment",-1),ee=Object(o["h"])("label",{for:"tags",class:"uppercase font-bold text-xs text-gray-500"},"Tags",-1),te=Object(o["h"])("p",{class:"mb-3 uppercase font-bold text-xs text-gray-500"},"Sources",-1),ne={class:"inline-flex items-stretch text-gray-500"},oe=Object(o["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1),ae=Object(o["h"])("hr",{class:"my-2"},null,-1),re={class:"inline-flex items-stretch text-gray-500"},ce=Object(o["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),se={class:"flex justify-between items-stretch content-center mt-4"},le={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ie=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1),ue={key:0,mlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},de=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"},null,-1),be={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pe=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),he=Object(o["h"])("span",{class:"ml-2"},"Save",-1);function fe(e,t,n,a,r,c){return Object(o["r"])(),Object(o["d"])("article",{class:["w-full mb-4 p-8 bg-white shadow hover:shadow-xl rounded-lg transition",a.an.selected?"bg-green-50":""]},[Object(o["h"])("div",J,[Object(o["h"])("div",null,[Object(o["h"])("input",{type:"checkbox",name:"selected",id:"selected-".concat(n.annotation.id),onClick:t[1]||(t[1]=function(e){return a.an.selected=!a.an.selected}),onChange:t[2]||(t[2]=function(){return a.annotationSelected&&a.annotationSelected.apply(a,arguments)}),class:"mr-1"},null,40,["id"]),Object(o["h"])("label",{for:"selected-".concat(n.annotation.id),class:"text-gray-500"}," select ",8,["for"])]),Object(o["h"])("div",H,[Object(o["h"])("p",q,[N,Object(o["g"])(Object(o["z"])(a.an.dateUpdated),1)]),Object(o["h"])("p",$,[W,Object(o["g"])(Object(o["z"])(a.an.dateCreated),1)])])]),Y,Object(o["h"])("form",{onSubmit:t[6]||(t[6]=Object(o["G"])((function(){return a.updateAnnotation&&a.updateAnnotation.apply(a,arguments)}),["prevent"])),class:"d-md-flex"},[Q,a.an.highlightedText?(Object(o["r"])(),Object(o["d"])("blockquote",X,'"'+Object(o["z"])(a.an.highlightedText)+'"',1)):Object(o["e"])("",!0),Z,Object(o["F"])(Object(o["h"])("textarea",{name:"comment",class:"block w-full mb-4 px-4 py-2 border-gray-300 border rounded-lg",onInput:t[3]||(t[3]=function(e){return a.checkCommentModification()}),"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.annotation.text=e})},null,544),[[o["C"],n.annotation.text]]),ee,Object(o["F"])(Object(o["h"])("input",{name:"tags",class:"w-full mb-5 border rounded-lg border-2 p-4 py-2",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.an.tagsConcatenated=e})},null,512),[[o["C"],a.an.tagsConcatenated]]),Object(o["h"])("div",null,[te,Object(o["h"])("p",ne,[oe,Object(o["h"])("a",{class:"ml-2",href:n.annotation.uri,target:"_blank",rel:"noopener noreferrer"},Object(o["z"])(a.an.articleTitle),9,["href"])]),ae,Object(o["h"])("p",re,[ce,Object(o["h"])("a",{class:"ml-2",href:n.annotation.links.incontext,target:"_blank",rel:"noopener noreferrer"},"See in context",8,["href"])])]),Object(o["h"])("div",se,[Object(o["h"])("button",{type:"submit",class:["flex align-items py-2 pl-3 pr-4 rounded-lg text-sm font-medium text-white focus:outline-none transition-all",a.saveButtonStyles()],disabled:!a.changed},[a.changed?(Object(o["r"])(),Object(o["d"])(o["a"],{key:1},[a.loading&&a.changed?(Object(o["r"])(),Object(o["d"])("svg",ue,[de])):(Object(o["r"])(),Object(o["d"])("svg",be,[pe]))],64)):(Object(o["r"])(),Object(o["d"])("svg",le,[ie])),he],10,["disabled"])])],32)],2)}n("a15b");var ge={props:{annotation:Object,apiInfo:Object},setup:function(e,t){var n=e.annotation.text,a=e.annotation.tags.join(", "),r=Object(o["u"])({}),c=Object(o["u"])(!1),s=Object(o["u"])(!1);try{r.value.articleTitle=Object(o["b"])((function(){return e.annotation.document.title[0]}))}catch(f){console.log("no title set for annotation: ".concat(e.annotation.id))}try{var l=e.annotation.target[0].selector.length-1;r.value.highlightedText=Object(o["b"])((function(){return e.annotation.target[0].selector[l].exact}))}catch(f){console.log("no array found ".concat(e.annotation.id))}function i(){console.log("checkCommentModification"),n!==e.annotation.text?s.value=!0:s.value=!1,p()}function u(){return d.apply(this,arguments)}function d(){return d=Object(L["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.value=!0,n=r.value.tagsConcatenated.split(",").map((function(e){return e.trim()})).filter((function(e){return""!=e})),console.log(n),t.prev=3,t.next=6,G("/annotations/"+e.annotation.id,{tags:n,text:e.annotation.text},e.apiInfo.token);case 6:o=t.sent,console.log(o.data),c.value=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0);case 14:s.value=!1;case 15:case"end":return t.stop()}}),t,null,[[3,11]])}))),d.apply(this,arguments)}r.value.dateCreated=Object(o["b"])((function(){return h(new Date(e.annotation.created))})),r.value.dateUpdated=Object(o["b"])((function(){return h(new Date(e.annotation.updated))})),r.value.comment=e.annotation.text,r.value.tagsConcatenated=Object(o["b"])({get:function(){return e.annotation.tags.join(", ")},set:function(n){a!==n?(console.log("changed"),s.value=!0):(console.log("no change detected"),s.value=!1),p(),t.emit("tagsUpdated",{tags:n,id:e.annotation.id})}});var b=function(){t.emit("annotationSelected",{id:e.annotation.id,selected:r.value.selected})};function p(){return s.value?["bg-green-600","hover:bg-green-800"]:["bg-gray-400","hover:bg-gray-400"]}function h(e){var t=new Date(e),n=""+(t.getMonth()+1),o=""+t.getDate(),a=t.getFullYear();return n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),[n,o,a].join("/")}return{an:r,updateAnnotation:u,annotationSelected:b,loading:c,checkCommentModification:i,changed:s,saveButtonStyles:p}}};ge.render=fe;var je=ge,me={class:"mt-4"},ve=Object(o["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Oe={key:0,class:"absolute bottom-0 left-0"},xe={class:"p-8 mb-4 bg-white rounded-lg"};function we(e,t,n,a,r,c){return Object(o["r"])(),Object(o["d"])(o["a"],null,[Object(o["h"])("div",me,[Object(o["h"])("p",{class:"inline-flex items-stretch text-gray-500 cursor-pointer",onMouseover:t[1]||(t[1]=function(e){return a.state.open=!0}),onMouseleave:t[2]||(t[2]=function(e){return a.state.open=!1})},[ve,Object(o["w"])(e.$slots,"short")],32)]),a.state.open?(Object(o["r"])(),Object(o["d"])("div",Oe,[Object(o["h"])("div",xe,[Object(o["h"])("p",null,[Object(o["w"])(e.$slots,"full")])])])):Object(o["e"])("",!0)],64)}var ye={setup:function(){var e=Object(o["t"])({open:!1});return{state:e}}};ye.render=we;var ke=ye,Te={components:{Annotation:je,Info:ke},setup:function(){var e=Object(o["u"])({}),t=Object(o["u"])(""),n=Object(o["u"])(""),a=Object(o["u"])([]),r=Object(o["u"])(""),c=Object(o["t"])({page:0,itemsPerPage:10,loading:!1}),s=Object(o["t"])({token:"",user:"",wantToSave:!1,saved:!1,edit:!1});function l(){return i.apply(this,arguments)}function i(){return i=Object(L["a"])(regeneratorRuntime.mark((function o(){var r,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a.value=[],c.loading=!0,r={url:n.value,tags:t.value,user:s.user,limit:c.itemsPerPage},r=v(r),o.prev=4,o.next=7,K("/search",r,s.token);case 7:l=o.sent,e.value=l.data.rows,c.totalItems=l.data.total,o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](4),console.log(o.t0);case 15:c.loading=!1;case 16:case"end":return o.stop()}}),o,null,[[4,12]])}))),i.apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return d=Object(L["a"])(regeneratorRuntime.mark((function o(){var a,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return c.loading=!0,c.page++,a={offset:c.page*c.itemsPerPage,url:n.value,tags:t.value,user:s.user,limit:c.itemsPerPage},a=v(a),console.log(a),o.prev=5,o.next=8,K("/search",a,s.token);case 8:r=o.sent,r.data.rows.map((function(t){e.value.push(t)})),c.loading=!1,o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](5),console.log(o.t0);case 16:case"end":return o.stop()}}),o,null,[[5,13]])}))),d.apply(this,arguments)}function b(t){console.log(t.tags);var n=e.value.find((function(e){return e.id===t.id}));n.tags=t.tags.split(", ")}function p(e){e.selected&&!a.value.includes(e.id)?a.value.push(e.id):a.value=m(a.value,e.id),console.log(a.value)}function h(e){return f.apply(this,arguments)}function f(){return f=Object(L["a"])(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.value.length?r.value?(o=r.value.split(",").map((function(e){return e.trim()})).filter((function(e){return""!=e})),o.length>0&&Promise.all(a.value.map(function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(a){var r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=e.value.find((function(e){return e.id===a})),"add"==n?(r=c.tags,r=r.concat(o),r=Object(F["a"])(new Set(r))):"overwrite"==n&&(r=o),t.prev=2,t.next=5,G("/annotations/"+a,{tags:r},s.token);case 5:l=t.sent,Object.assign(c,l.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()))):alert("Insert at least one tag"):alert("Select at least one annotation");case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function g(){return j.apply(this,arguments)}function j(){return j=Object(L["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s.token){e.next=18;break}return e.prev=1,e.next=4,K("/profile",null,s.token);case 4:t=e.sent,s.user=t.data.userid,console.log(s.user),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:s.saved=!0,s.edit=!1,l(),s.wantToSave?(localStorage.setItem("apiInfo",JSON.stringify(s)),console.log("salvou token no localStorage: "+s)):(localStorage.removeItem("apiInfo"),console.log("token disponível para uso mas não foi salvo")),e.next=19;break;case 18:alert("Insert a valid token to proceed.");case 19:case"end":return e.stop()}}),e,null,[[1,9]])}))),j.apply(this,arguments)}function m(e,t){return e.filter((function(e){return e!=t}))}function v(e){var t={};return Object.keys(e).forEach((function(n){e[n]&&(t[n]=e[n])})),t}return Object(o["p"])((function(){if(localStorage.getItem("apiInfo")){var e=JSON.parse(localStorage.getItem("apiInfo"));Object.assign(s,e)}s.token&&s.user&&l()})),{annotations:e,getAnnotations:l,pagination:c,loadMoreAnnotations:u,annotationSelected:p,selectedAnnotations:a,searchTags:t,searchUrl:n,apiInfo:s,saveToken:g,newTags:r,addTags:h,tagsUpdated:b}}};Te.render=V;var Se=Te,Ce=[{path:"/",name:"Home",component:Se},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Ie=Object(h["a"])({history:Object(h["b"])("/vuepothesis/"),routes:Ce}),Ae=Ie;n("ba8c");Object(o["c"])(p).use(Ae).mount("#app")},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.eb32955d.js.map